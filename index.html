<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
<title>Breakout HUD â€” Top5 Theme Demo (A2 TwinRow)</title>
<style>
/* ==========================
   Core tokens & layout
   ========================== */
:root{
  --safe-top: env(safe-area-inset-top);
  --hudBottom: 96px; /* updated by JS */
  --ink:#eaf2ff; --muted:#b8c7ea;
  --glass-1: rgba(255,255,255,.08);
  --glass-2: rgba(255,255,255,.06);
  --stroke: rgba(140,180,255,.28);
  --bg: #0a142c;
  --radius-outer: 18px; /* container radius */
  --radius-pill: 999px; /* pill & chip */
  --radius-ring: 999px; /* control button */
  --ring-size: 42px;
}
html,body{height:100%;margin:0;color:var(--ink);
  background: radial-gradient(140% 140% at 50% -12%, #13224a 0%, #0e1a3a 50%, #081022 100%);
  font-family: ui-sans-serif, -apple-system, system-ui, "Segoe UI", Roboto, "Noto Sans TC", "PingFang TC", "Microsoft JhengHei", Arial, sans-serif;
  -webkit-font-smoothing: antialiased}
.wrap{max-width:1200px;margin:0 auto;padding:0 12px 24px}
header{padding:calc(8px + var(--safe-top)) 0 10px;display:flex;gap:8px;align-items:center;flex-wrap:wrap;justify-content:space-between}
h1{font-size:clamp(16px,2.6vw,22px);margin:0 8px 0 0;letter-spacing:.4px;opacity:.95}
.small{font-size:12px;color:var(--muted)}

/* Theme switcher (for demo only) */
.switch{display:flex;gap:8px;flex-wrap:wrap}
.switch .tbtn{padding:6px 10px;border-radius:12px;border:1px solid var(--stroke);background:var(--glass-2);color:#fff;cursor:pointer}
.switch .tbtn[aria-pressed="true"]{outline:2px solid #7fc0ff;}

/* === HUDï¼šA2 TwinRow (keep functional distribution) === */
.theme-a2 .hud{position:relative;z-index:20;display:grid;gap:8px;align-items:center;
  grid-template-columns:1fr auto; /* left stats, right controls */
  max-width:min(1080px,96vw);margin:8px auto 0;border:1px solid var(--stroke);
  border-radius:var(--radius-outer);padding:10px;background:linear-gradient(180deg,rgba(20,25,44,.62),rgba(12,20,42,.44))}
.theme-a2 .stats{display:grid;grid-template-columns:auto auto;grid-auto-rows:minmax(34px,auto);gap:8px 10px}
.theme-a2 .stats .wide{grid-column:1 / -1}
.pill{padding:6px 11px;border:1px solid var(--stroke);background:var(--glass-2);border-radius:var(--radius-pill);min-height:34px;display:flex;align-items:center;gap:8px;color:#d7e3ff;font-weight:650;font-size:14px}
.pill b{color:#fff;font-variant-numeric:tabular-nums}
.hearts{letter-spacing:2px;margin-left:4px}
.controls{display:flex;gap:8px;align-items:center;justify-content:flex-end;align-self:start}
.ring{width:var(--ring-size);height:var(--ring-size);border-radius:var(--radius-ring);border:1px solid var(--stroke);
      background:radial-gradient(120% 120% at 30% 20%, rgba(255,255,255,.16), rgba(255,255,255,0) 58%), var(--glass-1);
      display:grid;place-items:center;cursor:pointer;box-shadow:inset 0 0 0 1px rgba(255,255,255,.05), 0 10px 24px rgba(0,0,0,.34)}
.ring:active{transform:translateY(1px)}
.bars{width:14px;height:16px;display:grid;grid-template-columns:1fr 1fr;gap:4px}
.bars span{background:#fff;border-radius:2px}
.menu{position:absolute;top:56px;right:0;min-width:280px;padding:10px;border:1px solid var(--stroke);border-radius:14px;background:rgba(12,18,36,.96);backdrop-filter:blur(10px);transform:scale(.96);opacity:0;pointer-events:none;transition:.16s ease;z-index:60}
.menu.show{transform:scale(1);opacity:1;pointer-events:auto}
.menu .item{display:flex;align-items:center;gap:10px;padding:10px;border:1px solid var(--stroke);border-radius:10px;background:var(--glass-2);margin-bottom:8px}
.menu h4{margin:6px 0 8px;font-size:13px;color:#cfe0ff}
.btn{padding:8px 12px;border-radius:10px;border:1px solid var(--stroke);cursor:pointer;background:var(--glass-2);color:#fff}

/* Narrow width Tune */
@media (max-width:390px){ .pill{font-size:13px;padding:5px 10px} .ring{--ring-size:40px} }

/* Buff chips (between HUD & board) */
#buffs{position:sticky;z-index:18;top:calc(var(--hudBottom) + 6px);display:flex;gap:8px;align-items:center;max-width:min(1080px,96vw);margin:6px auto 0;padding-left:6px;overflow:auto;scrollbar-width:none}
#buffs::-webkit-scrollbar{display:none}
.chip{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border:1px solid var(--stroke);border-radius:var(--radius-pill);background:var(--glass-1);font-size:12px;white-space:nowrap;color:#cfe0ff}
.chip b{color:#fff}

/* Stage */
.stage{position:relative;margin:12px auto 0;max-width:min(1080px,96vw);border-radius:var(--radius-outer);padding:12px}
.board{position:relative;height:min(62vh,560px);border-radius:16px;border:1px solid rgba(80,110,170,.45);background:linear-gradient(180deg,#0d132a,#0b1226 55%, #091223);box-shadow:inset 0 0 160px rgba(255,255,255,.03), 0 28px 90px rgba(0,0,0,.46)}
.boardOverlay{position:absolute;inset:0;pointer-events:none}

/* Prompt cards */
.prompts{position:absolute;left:10px;right:10px;top:44%;display:flex;gap:16px;align-items:flex-start;justify-content:flex-start;pointer-events:none;flex-wrap:nowrap}
.prompt{pointer-events:auto;padding:10px 12px;border:1px solid var(--stroke);border-radius:12px;background:rgba(14,22,40,.92);box-shadow:0 14px 36px rgba(0,0,0,.38);width:calc((100% - 32px)/3); font-size:12px; line-height:1.45; white-space:normal}
@media (max-width:480px){ .prompts{flex-wrap:wrap} .prompt{width:calc((100% - 16px)/2)} }

/* ==========================
   THEME VARIANTS (Top 5)
   ========================== */
/* A) å†·è—ç»ç’ƒÂ·Pro */
.theme-pro{--ink:#eaf2ff;--muted:#b8c7ea;--glass-1:rgba(255,255,255,.08);--glass-2:rgba(255,255,255,.06);--stroke:rgba(140,180,255,.28);--bg:#0a142c;--radius-outer:18px;--radius-pill:999px;--radius-ring:999px}
.theme-pro body{background: radial-gradient(140% 140% at 50% -12%, #13224a 0%, #0e1a3a 50%, #081022 100%)}
.theme-pro .ring{box-shadow:inset 0 0 0 1px rgba(255,255,255,.05), 0 10px 30px rgba(64,120,255,.24)}
.theme-pro .chip{box-shadow:0 6px 18px rgba(64,120,255,.18)}

/* B) çŸ³å¢¨éˆ¦é‡‘å±¬ */
.theme-titanium{--ink:#dfe6f1;--muted:#9fb0c6;--glass-1:rgba(255,255,255,.06);--glass-2:rgba(255,255,255,.045);--stroke:rgba(170,190,220,.25);--bg:#0a0e14;--radius-outer:16px;--radius-pill:22px;--radius-ring:14px}
.theme-titanium body{background: radial-gradient(130% 120% at 50% -10%, #171a22 0%, #0f131a 55%, #0a0e14 100%)}
.theme-titanium .hud{background:linear-gradient(180deg,rgba(26,30,40,.72),rgba(16,20,30,.5)),
  linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  backdrop-filter: blur(8px)}
.theme-titanium .ring{background:linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.0)),
  repeating-linear-gradient(90deg, rgba(255,255,255,.05) 0 1px, rgba(255,255,255,0) 1px 4px), var(--glass-1)}

/* C) è±¡ç‰™é™¶ç“·ï¼ˆéœ§é¢æ·ºè‰²ï¼‰ */
.theme-ivory{--ink:#1b2330;--muted:#5c6a7e;--glass-1:rgba(0,0,0,.06);--glass-2:rgba(0,0,0,.045);--stroke:rgba(40,60,90,.22);--bg:#f4f5f7;--radius-outer:16px;--radius-pill:999px;--radius-ring:12px}
.theme-ivory body{color:var(--ink);background:linear-gradient(180deg,#fcfdff 0%, #eaedf3 60%, #dfe5ee 100%)}
.theme-ivory .hud{border-color:rgba(30,50,80,.2);background:linear-gradient(180deg,rgba(255,255,255,.72),rgba(255,255,255,.55))}
.theme-ivory .pill,.theme-ivory .btn,.theme-ivory .menu .item{color:#1b2330;background:rgba(255,255,255,.7);border-color:rgba(30,50,80,.2)}
.theme-ivory .ring{border-color:rgba(30,50,80,.28); background:radial-gradient(120% 120% at 30% 20%, rgba(255,255,255,.9), rgba(255,255,255,.5) 58%), rgba(255,255,255,.8)}
.theme-ivory .menu{background:rgba(255,255,255,.94)}
.theme-ivory .bars span{background:#1b2330}

/* D) æ˜Ÿé›²æ¼¸å±¤ Aurora */
.theme-aurora{--ink:#eff6ff;--muted:#c5d7ff;--glass-1:rgba(255,255,255,.10);--glass-2:rgba(255,255,255,.07);--stroke:rgba(146,208,255,.30);--bg:#0b0f2a;--radius-outer:20px;--radius-pill:16px;--radius-ring:999px}
.theme-aurora body{background: radial-gradient(140% 160% at 20% -20%, #233a7a 0%, #1a1a4a 40%, #0b0f2a 100%), linear-gradient(130deg,#47ffd8 0%,#9b7bff 50%,#ff77c8 100%);
 background-blend-mode: overlay}
.theme-aurora .hud{background:linear-gradient(180deg,rgba(16,24,54,.72),rgba(10,16,38,.5))}
.theme-aurora .ring{border-image:linear-gradient(135deg,#47ffd8,#9b7bff,#ff77c8) 1; border-width:1px; background:linear-gradient(135deg, rgba(71,255,216,.18), rgba(155,123,255,.18) 50%, rgba(255,119,200,.18)), var(--glass-1);}
.theme-aurora .pill{background:linear-gradient(135deg, rgba(71,255,216,.12), rgba(155,123,255,.12) 50%, rgba(255,119,200,.12)), var(--glass-2)}

/* E) éŠ€è—ç¦ªé¢¨ Minimal */
.theme-zen{--ink:#e9f1ff;--muted:#9cb3cc;--glass-1:rgba(255,255,255,.08);--glass-2:rgba(255,255,255,.05);--stroke:rgba(160,190,220,.26);--bg:#0c1522;--radius-outer:14px;--radius-pill:24px;--radius-ring:12px}
.theme-zen body{background:linear-gradient(180deg,#0f1c2e 0%, #0c1522 60%, #0a111b 100%)}
.theme-zen .hud{background:linear-gradient(180deg,rgba(16,28,44,.68),rgba(10,18,30,.48))}
.theme-zen .pill{letter-spacing:.2px}
.theme-zen .ring{background:var(--glass-1)}

/* Accessibility cues */
:focus-visible{outline:2px solid #7fc0ff;outline-offset:2px}

</style>
</head>
<body>
<div class="wrap theme-a2 theme-pro" id="app" data-theme="pro">
  <header>
    <h1>Breakout HUD æ¨£å“ï¼ˆA2 TwinRow â€” Top5 Theme Demoï¼‰</h1>
    <span class="small">æ“ä½œï¼šé»ä¸Šæ–¹æŒ‰éˆ•å¿«é€Ÿåˆ‡æ› 5 ç¨®é¢¨æ ¼ã€‚ä¿ç•™åŸåŠŸèƒ½åˆ†å¸ƒä¸è®Šã€‚</span>
    <div class="switch" role="toolbar" aria-label="åˆ‡æ›ä¸»é¡Œ">
      <button class="tbtn" data-theme="pro" aria-pressed="true">A å†·è—ç»ç’ƒÂ·Pro</button>
      <button class="tbtn" data-theme="titanium">B çŸ³å¢¨éˆ¦é‡‘å±¬</button>
      <button class="tbtn" data-theme="ivory">C è±¡ç‰™é™¶ç“·</button>
      <button class="tbtn" data-theme="aurora">D æ˜Ÿé›²æ¼¸å±¤</button>
      <button class="tbtn" data-theme="zen">E éŠ€è—ç¦ªé¢¨</button>
    </div>
  </header>

  <!-- HUD (functional distribution unchanged) -->
  <section class="hud" aria-label="éŠæˆ² HUD">
    <div class="stats">
      <div class="pill">åˆ†æ•¸ <b data-bind="score">12,480</b></div>
      <div class="pill">é—œå¡ <b data-bind="level">7</b>/20</div>
      <div class="pill wide">ç”Ÿå‘½ <b data-bind="lives">3</b> <span class="hearts" aria-hidden="true">â¤ï¸â¤ï¸â¤ï¸</span></div>
    </div>
    <div class="controls" style="position:relative">
      <button class="ring" data-as="start" aria-label="é–‹å§‹/æš«åœ"><span class="bars"><span></span><span></span></span></button>
      <button class="ring" data-as="sound" aria-haspopup="true" aria-expanded="false" aria-controls="soundMenu">ğŸ”Š</button>
      <div class="menu" id="soundMenu" data-as="soundMenu">
        <div class="item"><span>ğŸµ</span><label><input type="checkbox" checked> BGM é–‹é—œ</label></div>
        <div class="item"><span>ğŸš</span><label style="width:100%">BGM éŸ³é‡ <input type="range" min="0" max="1" step="0.01" value="0.7" style="width:60%" aria-label="BGM éŸ³é‡"></label></div>
        <div class="item"><span>ğŸ”ˆ</span><label><input type="checkbox" checked> éŸ³æ•ˆé–‹é—œ</label></div>
      </div>
      <button class="ring" data-as="opt" aria-haspopup="true" aria-expanded="false" aria-controls="optMenu">â‹¯</button>
      <div class="menu" id="optMenu" data-as="optMenu">
        <h4>éŠæˆ²</h4>
        <div class="item"><span>ğŸ®</span>é›£åº¦ <select aria-label="é›£åº¦"><option>ç°¡å–®</option><option selected>ä¸€èˆ¬</option><option>å›°é›£</option></select></div>
        <div class="row" style="display:flex;gap:8px;flex-wrap:wrap"><button class="btn">é‡æ–°é–‹å§‹</button><button class="btn">å­˜æª”</button><button class="btn">è®€æª”</button></div>
        <h4>å…¶ä»–</h4>
        <div class="row" style="display:flex;gap:8px;flex-wrap:wrap"><button class="btn">å…¨è¢å¹•</button><button class="btn">æ•™å­¸</button><button class="btn">æ•ˆæœèªªæ˜</button><button class="btn">ç•«å»Š</button><button class="btn">æ’è¡Œæ¦œ</button></div>
        <div class="item"><span>ğŸ¨</span>Skin <select aria-label="Skin"><option>ä¾éŠæˆ²å…§ç‚ºæº–</option></select></div>
      </div>
    </div>
  </section>
  <div class="hud-sentinel" style="height:0"></div>

  <!-- Buff countdown chips -->
  <div id="buffs" aria-live="polite">
    <span class="chip">ğŸ§² <b>8.2</b>s</span>
    <span class="chip">â„ï¸ <b>11.7</b>s</span>
    <span class="chip">ğŸ¯ <b>4.9</b>s</span>
  </div>

  <!-- Stage (visual mock) -->
  <div class="stage">
    <div class="board">
      <div class="boardOverlay">
        <div class="prompts" id="prompts">
          <div class="prompt">å‡çµçƒï¼šå¹³å°çŸ­æš«åœæ»¯ï¼Œç¯€å¥æ›´å¥½æŒæ¡ã€‚</div>
          <div class="prompt">é»æ»¯çƒï¼šç¢°å¹³å°æœƒå¸é™„ï¼Œé‡‹æ”¾å†æ“Šã€‚</div>
          <div class="prompt">é›·å°„ï¼šé–‹ç«æ¸…é™¤åŒåˆ—æ•¸å¡Šã€‚</div>
        </div>
      </div>
    </div>
  </div>

</div>

<script>
(()=>{
  const app = document.getElementById('app');
  const hud = app.querySelector('.hud');
  const sentinel = app.querySelector('.hud-sentinel');
  const menus = app.querySelectorAll('.menu');
  const tbtns = document.querySelectorAll('.tbtn');
  let running = true, rafId = 0, ro = null;

  function start(){ running = true; document.body.classList.remove('stopped'); }
  function stop(){ running = false; document.body.classList.add('stopped'); }

  function queuePlace(){ if(rafId) cancelAnimationFrame(rafId); rafId = requestAnimationFrame(placeHud); }
  function placeHud(){ rafId=0; const rect = (sentinel||hud).getBoundingClientRect(); const top = Math.max(0, Math.ceil(rect.top)) + 6; document.documentElement.style.setProperty('--hudBottom', top + 'px'); }

  function toggleMenu(menu, btn){ const show = !menu.classList.contains('show'); closeMenus(); if(show){ menu.classList.add('show'); btn?.setAttribute('aria-expanded','true'); stop(); } else { btn?.setAttribute('aria-expanded','false'); start(); } queuePlace(); }
  function closeMenus(){ menus.forEach(m=>m.classList.remove('show')); hud.querySelectorAll('[aria-expanded="true"]').forEach(b=>b.setAttribute('aria-expanded','false')); start(); queuePlace(); }

  // Bind once
  hud.querySelector('[data-as="start"]').addEventListener('click', ()=>{ running?stop():start(); }, { once:false });
  const soundBtn = hud.querySelector('[data-as="sound"]');
  const optBtn = hud.querySelector('[data-as="opt"]');
  const soundMenu = hud.querySelector('[data-as="soundMenu"]');
  const optMenu = hud.querySelector('[data-as="optMenu"]');
  soundBtn.addEventListener('click', (e)=>{ e.stopPropagation(); toggleMenu(soundMenu, soundBtn); }, { once:false });
  optBtn.addEventListener('click', (e)=>{ e.stopPropagation(); toggleMenu(optMenu, optBtn); }, { once:false });
  document.addEventListener('click', (e)=>{ if(!e.target.closest('.menu') && !e.target.closest('[data-as="sound"]') && !e.target.closest('[data-as="opt"]')) closeMenus(); }, { once:false });

  // Theme switcher
  function applyTheme(name){
    const names = ['pro','titanium','ivory','aurora','zen'];
    names.forEach(n=>app.classList.remove('theme-'+n));
    app.classList.add('theme-'+name);
    app.dataset.theme = name;
    tbtns.forEach(b=>b.setAttribute('aria-pressed', String(b.dataset.theme===name)));
    queuePlace();
  }
  tbtns.forEach(b=>b.addEventListener('click', ()=>applyTheme(b.dataset.theme)));

  // Observe layout
  if(window.ResizeObserver){ ro = new ResizeObserver(queuePlace); ro.observe(hud); }
  ['resize','orientationchange','scroll'].forEach(ev=>window.addEventListener(ev, queuePlace, {passive:true}));
  if(window.visualViewport){ ['resize','scroll'].forEach(ev=>visualViewport.addEventListener(ev, queuePlace)); }
  if(document.fonts && document.fonts.ready){ document.fonts.ready.then(queuePlace); }
  queuePlace();
})();
</script>
</body>
</html>
